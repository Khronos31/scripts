#!/bin/bash
# Khronos | funnychar

# 2020.02.16 funnychar ver 1.0
# Original is written by kanata (@kanata201612)

usage()
  echo "ex) echo abcABC|$0 -u 1D468"
  echo "ex) echo abcABC|$0 -uA FF21 -ua 249C"
  echo "ex) $0 -p [pattern_number] abcABC"
  echo "    pattern_number is .."
  sed '1,/^#LIST1_B$/d; /^#LIST1_E$/,$d; s/="/=U+/g; s/[":;]//g' "$0"
}

changecode(){
  funny=""
  A="$1"
  a="$2"
  
  for WORD in {A,a}+{0..25}; do
    funny="${funny}$(printf "\U$(printf %x $[WORD])")"
  done

  sed "y/ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz/${funny}/"
}

A="41"
a="61"

while [ $# -ge 1 ]; do
  case "$1" in
    -h|--help)
      usage
      exit 0
    ;;
    -p)
      case "$2" in
#LIST1_B
         "1") A="FF21" ; a="FF41" ;; #ï¼¡ï¼¢ï¼£ï½ï½‚ï½ƒ (FULLWIDTH)
         "2") A="1D400"; a="1D41A";; #ð€ðð‚ðšð›ðœ
         "3") A="1D434"; a="1D44E";; #ð´ðµð¶ð‘Žð‘ð‘
         "4") A="1D468"; a="1D482";; #ð‘¨ð‘©ð‘ªð’‚ð’ƒð’„
         "5") A="1D49C"; a="1D4B6";; #ð’œð’ð’žð’¶ð’·ð’¸
         "6") A="1D4D0"; a="1D4EA";; #ð“ð“‘ð“’ð“ªð“«ð“¬
         "7") A="1D504"; a="1D51E";; #ð”„ð”…ð”†ð”žð”Ÿð” 
         "8") A="1D538"; a="1D552";; #ð”¸ð”¹ð”ºð•’ð•“ð•”
         "9") A="1D56C"; a="1D586";; #ð•¬ð•­ð•®ð–†ð–‡ð–ˆ
        "10") A="1D5A0"; a="1D5BA";; #ð– ð–¡ð–¢ð–ºð–»ð–¼
        "11") A="1D5D4"; a="1D5EE";; #ð—”ð—•ð—–ð—®ð—¯ð—°
        "12") A="1D608"; a="1D622";; #ð˜ˆð˜‰ð˜Šð˜¢ð˜£ð˜¤
        "13") A="1D63C"; a="1D656";; #ð˜¼ð˜½ð˜¾ð™–ð™—ð™˜
        "14") A="1D670"; a="1D68A";; #ð™°ð™±ð™²ðšŠðš‹ðšŒ
        "15") A="1F110"; a="249C" ;; #ðŸ„ðŸ„‘ðŸ„’â’œâ’â’ž (PARENTHESIZED)
        "16") A="24B6" ;: "a=(None)" ;; #â’¶â’·â’¸â“â“‘â“’ (CIRCLED)
        "17") A="1F130";: "a=(None)" ;; #ðŸ„°ðŸ„±ðŸ„² (SQUARED)
        "18") A="1F150";: "a=(None)" ;; #ðŸ…ðŸ…‘ðŸ…’ (NEGATIVE CIRCLED)
        "19") A="1F170";: "a=(None)" ;; #ðŸ…°ðŸ…±ðŸ…² (NEGATIVE SQUARED)
        "20") A="1F1E6";: "a=(None)" ;; #ðŸ‡¦ðŸ‡§ðŸ‡¨
#LIST1_E
        *)
          echo Invalid pattern 1>&2
          usage 1>&2
          exit 1
        ;;
      esac
      shift 2
    ;;
    -u|-uA)
      A="${2#U+}"
      shift 2
    ;;
    -ua)
      a="${2#U+}"
      shift 2
    ;;
    *)
      break
    ;;
  esac
done

if [ -n "$*" ]; then
  echo "$*"|changecode "0x$A" "0x$a"
else
  changecode "0x$A" "0x$a"
fi

exit 0
